<!DOCTYPE html>
<!-- saved from url=(0033)https://clashv2ray.com/22050.html -->
<html style="transform: none;"><script id="allow-copy_script" src="chrome-extension://aefehdhdciieocakfobpaaolhipkcpgc/content_scripts/copy.js"></script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="content-language" content="zh_CN">
    <link rel="shortcut icon" href="https://clashv2ray.com/22050.html">
    <link rel="apple-touch-icon" href="https://clashv2ray.com/22050.html">
        <title>ClashX for Mac 自定义规则完全指南 | Clash中文教程网</title>
    <meta name="keywords" content="clashx mac,自定义规则,使用教程,软件设置,网络代理">
    <meta name="description" content="本文详细介绍了 ClashX for Mac 的自定义规则设置,帮助用户更好地使用该软件。涵盖了自定义规则的概念、创建方法、常见应用场景等内容,并提供了常见问题解答,为 ClashX 用户提供全面的使用指导。">
<link rel="canonical" href="https://clashv2ray.com/22050.html">
    <meta name="robots" content="max-image-preview:large">
<link rel="stylesheet" id="puock-libs-css" data-no-instant="" href="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/libs.min.css" type="text/css" media="all">
<link rel="stylesheet" id="puock-css" data-no-instant="" href="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/style(1).min.css" type="text/css" media="all">
<link rel="stylesheet" id="puock-block-alert-style-css" data-no-instant="" href="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/style-index.css" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id="global-styles-inline-css" type="text/css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<script type="text/javascript" src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/jquery.min.js" id="jquery-core-js"></script>
        <style>
        body{--pk-c-primary:#14AE33}
    </style>
    <style>:root{--puock-block-not-tran:100%}</style>            <link rel="shortcut icon" href="https://clashv2ray.com/favicon.ico">
<script async="" src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/script.js" data-website-id="e7312558-789f-43f8-bf48-b7cf316b4ac5"></script>
                <style>#logo {padding: 10px;display: inline-block;position: relative;overflow: hidden;max-width: 350px;}</style>    <style type="text/css">.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}</style><link rel="stylesheet" href="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/layer.css" id="layuicss-layer"><style id="theia-sticky-sidebar-stylesheet-TSS">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style></head>
<body class="puock-light custom-background" style="transform: none;">
<div style="transform: none;">
            <div class="progress" id="page-read-progress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" role="progressbar" style="width:52%"></div>
        </div>
        <div id="header-box" class=""></div>
    <header id="header" class=" ">
        <div class="navbar navbar-dark shadow-sm">
            <div class="container">
                <a href="https://clashv2ray.com/" id="logo" class="navbar-brand ">
                                            <span class="puock-text txt-logo">Clash中文教程网</span>
                                    </a>
                <div class="d-none d-lg-block puock-links">
                    <div id="menus" class="t-md ">
                        <ul><li><a class="colorMode" data-bs-toggle="tooltip" href="javascript:void(0)" aria-label="模式切换" data-bs-original-title="模式切换"><i class="fa-regular fa-sun"></i></a></li><li><a class="search-modal-btn" data-bs-toggle="tooltip" href="javascript:void(0)" aria-label="搜索" data-bs-original-title="搜索"><i class="fa fa-search"></i></a></li></ul>                    </div>
                </div>
                <div class="mobile-menus d-block d-lg-none p-1 puock-text">
                    <i class="fa fa-bars t-xl mr-2 mobile-menu-s"></i>
                                            <i class="fa-regular colorMode t-xl mr-2 fa-sun"></i>
                                        <i class="search-modal-btn fa fa-search t-md"></i>
                </div>
            </div>
        </div>
    </header>
    <div id="search" class="d-none">
        <div class="w-100 d-flex justify-content-center">
            <div id="search-main" class="container p-block">
                <form class="global-search-form" action="https://clashv2ray.com/">
                    <div class="search-layout">
                        <div class="search-input">
                            <input required="" type="text" name="s" class="form-control" placeholder="请输入搜索关键字">
                        </div>
                        <div class="search-start">
                            <button type="submit" class="btn-dark btn"><i class="fa fa-search mr-1"></i>搜索</button>
                        </div>
                        <div class="search-close-btn">
                            <button type="button" class="btn-danger btn ml-1 search-modal-btn"><i class="fa fa-close"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="mobile-menu" class="d-none">
        <div class="menus">
            <div class="p-block">
                <div class="text-end"><i class="fa fa-close t-xl puock-link mobile-menu-close ta3"></i></div>
                <nav>
                    <ul class="puock-links t-md"></ul>                </nav>
            </div>
        </div>
    </div>
    <div id="mobile-menu-backdrop" class="modal-backdrop d-none"></div>
    <div id="search-backdrop" class="modal-backdrop d-none"></div>

    <div id="post" class="container mt20" style="transform: none;">
        <!--全局上方-->
    <div class="puock-text p-block t-md ad-global-top">
        <a href="https://clashv2ray.com/ad-redirect" rel="noopener noreferrer nofollow" target="_blank"><img src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/happy2024.webp" style="width:100%;max-width:800px"></a>    </div>
        <div id="breadcrumb" class=""><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a class="a-link" href="https://clashv2ray.com/">首页</a></li><li class="breadcrumb-item"><a class="a-link" href="https://clashv2ray.com/sy/">使用教程</a></li><li class="breadcrumb-item active " aria-current="page">正文</li></ol></nav></div>        <!--内页上方-->
    <div class="puock-text p-block t-md ad-page-top">
        <a href="https://clashv2ray.com/ad-redirect" rel="noopener noreferrer nofollow" target="_blank"><img src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/happy2024.webp" style="width:100%;max-width:800px"></a>    </div>
        <div class="row row-cols-1 post-row" style="transform: none;">
            <div id="post-main" class="col-lg-8 col-md-12  " style="position: relative; overflow: visible; box-sizing: border-box; min-height: 1px;">
                
                                                                <!--内页中-->
    
                                

                                                            <div class="theiaStickySidebar" style="padding-top: 0px; padding-bottom: 1px; position: static; transform: none;"><div class="p-block">
                    <div><h1 id="post-title" class="mb-0 puock-text t-xxl">ClashX for Mac 自定义规则完全指南</h1></div>
                    <div class="options p-flex-sbc mt20">
                        <div>
                                                                                                            </div>
                                                    <div>
                                <div class="option puock-bg ta3 t-sm mr-1 d-none d-lg-inline-block post-main-size">
                                    <i class="fa fa-up-right-and-down-left-from-center"></i></div>
                            </div>
                                            </div>
                    <div class="mt20 entry-content-box">
                        <div class="entry-content content-main puock-text ">
                                                        <h2>目录</h2>
<ul>
<li><a href="https://clashv2ray.com/22050.html#%E4%BB%80%E4%B9%88%E6%98%AF-clashx-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99" target="_blank" rel="nofollow">什么是 ClashX 自定义规则?</a></li>
<li><a href="https://clashv2ray.com/22050.html#%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99" target="_blank" rel="nofollow">如何创建自定义规则?</a>
<ul>
<li><a href="https://clashv2ray.com/22050.html#%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" target="_blank" rel="nofollow">编辑配置文件</a></li>
<li><a href="https://clashv2ray.com/22050.html#%E4%BD%BF%E7%94%A8%E8%A7%84%E5%88%99%E7%BC%96%E8%BE%91%E5%99%A8" target="_blank" rel="nofollow">使用规则编辑器</a></li>
</ul>
</li>
<li><a href="https://clashv2ray.com/22050.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99%E7%9A%84%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" target="_blank" rel="nofollow">自定义规则的常见应用场景</a>
<ul>
<li><a href="https://clashv2ray.com/22050.html#%E5%B1%8F%E8%94%BD%E7%89%B9%E5%AE%9A%E5%9F%9F%E5%90%8D%E6%88%96-ip" target="_blank" rel="nofollow">屏蔽特定域名或 IP</a></li>
<li><a href="https://clashv2ray.com/22050.html#%E7%BB%95%E8%BF%87%E5%9B%BD%E5%86%85%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99" target="_blank" rel="nofollow">绕过国内常用网站</a></li>
<li><a href="https://clashv2ray.com/22050.html#%E5%88%86%E6%B5%81%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%B5%81%E9%87%8F" target="_blank" rel="nofollow">分流不同类型的流量</a></li>
</ul>
</li>
<li><a href="https://clashv2ray.com/22050.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94" target="_blank" rel="nofollow">自定义规则常见问题解答</a>
<ul>
<li><a href="https://clashv2ray.com/22050.html#%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E5%92%8C%E4%BF%AE%E6%94%B9%E5%BD%93%E5%89%8D%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99" target="_blank" rel="nofollow">如何查看和修改当前的自定义规则?</a></li>
<li><a href="https://clashv2ray.com/22050.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99%E4%B8%8E%E5%85%B6%E4%BB%96%E8%A7%84%E5%88%99%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E5%A6%82%E4%BD%95" target="_blank" rel="nofollow">自定义规则与其他规则的优先级如何?</a></li>
<li><a href="https://clashv2ray.com/22050.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99%E4%B8%AD%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%93%AA%E4%BA%9B%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6" target="_blank" rel="nofollow">自定义规则中可以使用哪些匹配条件?</a></li>
<li><a href="https://clashv2ray.com/22050.html#%E5%A6%82%E4%BD%95%E5%9C%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%80%9A%E9%85%8D%E7%AC%A6" target="_blank" rel="nofollow">如何在自定义规则中使用通配符?</a></li>
</ul>
</li>
</ul>
<h2>什么是 ClashX 自定义规则?</h2>
<p><em>ClashX 自定义规则</em> 是指用户在 ClashX 中自行添加和编辑的一些特殊规则,用于对网络流量进行更细致的控制和管理。这些规则可以根据域名、IP 地址、协议类型等条件,对流量进行过滤、分流或其他操作。</p>
<p>通过使用自定义规则,用户可以实现以下功能:</p>
<ul>
<li>屏蔽特定的域名或 IP 地址</li>
<li>绕过国内常用网站,提高访问速度</li>
<li>将不同类型的流量分别转发到不同的代理服务器</li>
<li>更精细地控制网络流量的路由和处理方式</li>
</ul>
<p>自定义规则是 ClashX 的一项高级功能,为用户提供了更灵活和强大的网络管理能力。接下来我们将详细介绍如何创建和使用自定义规则。</p>
<h2>如何创建自定义规则?</h2>
<p>在 ClashX 中,用户可以通过两种方式来创建和编辑自定义规则:</p>
<h3>编辑配置文件</h3>
<ol>
<li>打开 ClashX 的配置文件,通常位于 <code>~/.config/clash/config.yaml</code> 或 <code>~/Library/Preferences/clash/config.yaml</code>。</li>
<li>在 <code>rules</code> 部分添加自定义规则,格式如下:</li>
</ol>
<p>yaml rules:</p>
<ul>
<li>DOMAIN-SUFFIX,example.com,DIRECT # 放行 example.com 及其子域名</li>
<li>IP-CIDR,192.168.1.0/24,DIRECT # 放行局域网 IP 段</li>
<li>MATCH,PROXY # 其他流量转发到代理</li>
</ul>
<ol start="3">
<li>保存配置文件并重启 ClashX,自定义规则即可生效。</li>
</ol>
<h3>使用规则编辑器</h3>
<ol>
<li>在 ClashX 菜单栏中,选择 <code>编辑规则</code>。</li>
<li>在规则编辑器中,点击 <code>添加规则</code> 按钮,选择合适的匹配条件和操作。</li>
<li>填写规则的具体内容,例如域名、IP 地址等。</li>
<li>点击 <code>保存</code> 按钮,自定义规则即可生效。</li>
</ol>
<h2>自定义规则的常见应用场景</h2>
<h3>屏蔽特定域名或 IP</h3>
<p>您可以创建规则来屏蔽某些不需要的域名或 IP 地址,避免访问这些网站或资源。例如:</p>
<p>yaml rules:</p>
<ul>
<li>DOMAIN-SUFFIX,example.com,REJECT # 屏蔽 example.com 及其子域名</li>
<li>IP-CIDR,1.2.3.4/32,REJECT # 屏蔽特定 IP 地址</li>
</ul>
<h3>绕过国内常用网站</h3>
<p>对于一些国内常用的网站,如百度、腾讯、阿里等,您可以创建规则直接放行,不经过代理,提高访问速度。例如:</p>
<p>yaml rules:</p>
<ul>
<li>DOMAIN-SUFFIX,baidu.com,DIRECT</li>
<li>DOMAIN-SUFFIX,qq.com,DIRECT</li>
<li>DOMAIN-SUFFIX,alipay.com,DIRECT</li>
</ul>
<h3>分流不同类型的流量</h3>
<p>您可以根据流量的类型,将其分别转发到不同的代理服务器。例如:</p>
<p>yaml rules:</p>
<ul>
<li>DOMAIN-SUFFIX,youtube.com,PROXY # 视频流量走代理</li>
<li>DOMAIN-SUFFIX,github.com,PROXY # 开发工具流量走代理</li>
<li>MATCH,DIRECT # 其他流量直连</li>
</ul>
<h2>自定义规则常见问题解答</h2>
<h3>如何查看和修改当前的自定义规则?</h3>
<p>您可以通过编辑 ClashX 的配置文件 <code>config.yaml</code> 来查看和修改当前的自定义规则。配置文件通常位于 <code>~/.config/clash/config.yaml</code> 或 <code>~/Library/Preferences/clash/config.yaml</code>。</p>
<p>在 <code>rules</code> 部分,您可以看到已经配置的所有自定义规则。您可以直接编辑这些规则,或者添加新的规则。修改完成后,保存配置文件并重启 ClashX,新的规则就会生效。</p>
<h3>自定义规则与其他规则的优先级如何?</h3>
<p>在 ClashX 中,规则的执行顺序是:</p>
<ol>
<li>自定义规则</li>
<li>负载均衡规则</li>
<li>代理分组规则</li>
<li>MATCH 规则</li>
</ol>
<p>也就是说,自定义规则的优先级最高。如果一个流量同时匹配多条规则,则会优先执行自定义规则。</p>
<h3>自定义规则中可以使用哪些匹配条件?</h3>
<p>在自定义规则中,您可以使用以下匹配条件:</p>
<ul>
<li><code>DOMAIN-SUFFIX</code>: 匹配域名及其子域名</li>
<li><code>DOMAIN</code>: 精确匹配域名</li>
<li><code>IP-CIDR</code>: 匹配 IP 地址段</li>
<li><code>SRC-IP-CIDR</code>: 匹配源 IP 地址段</li>
<li><code>PROCESS-NAME</code>: 匹配进程名称</li>
<li><code>GEOIP</code>: 匹配地理位置</li>
<li><code>MATCH</code>: 匹配所有流量</li>
</ul>
<p>您可以根据需求,组合使用这些条件来创建自定义规则。</p>
<h3>如何在自定义规则中使用通配符?</h3>
<p>在自定义规则的域名匹配中,您可以使用通配符 <code>*</code> 来匹配多个域名。例如:</p>
<p>yaml rules:</p>
<ul>
<li>DOMAIN-SUFFIX,*.example.com,PROXY # 匹配 example.com 及其所有子域名</li>
<li>DOMAIN,www.example.*,PROXY # 匹配 www.example.com、www.example.org 等</li>
</ul>
<p>通配符 <code>*</code> 可以匹配任意长度的字符串,帮助您更方便地管理复杂的域名规则。</p>
                                                    </div>
                                                <div class="t-separator c-sub t-sm mt30">正文完</div>
                                                <div class="footer-info puock-text mt20">
                                                        <div class="p-flex-sbc mt20 t-sm">
                                <div>
                                    <span>发表至：</span><a class=" mr5" href="https://clashv2ray.com/sy/"><i class="fa-regular fa-folder-open"></i> 使用教程</a>                                </div>
                                <div>
                                    <span class="c-sub"><i class="fa-regular fa-clock"></i> 2024-05-21</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt15 post-action-panel">
    <div class="post-action-content">
        <div class="d-flex justify-content-center w-100 c-sub">
            <div class="circle-button puock-bg text-center " id="post-like" data-id="22050">
                <i class="fa-regular fa-thumbs-up t-md"></i>&nbsp;<span class="t-sm"></span></div>
                                    <div class="circle-button puock-bg text-center pk-modal-toggle" title="分享" data-once-load="true" data-url="https://clashv2ray.com/wp-admin/admin-ajax.php?action=pk_ajax_dialog_post_share&amp;id=22050">
                <i class="fa fa-share-from-square t-md"></i></div>
            <div class="ls">
                <div class="circle-button puock-bg text-center post-menu-toggle post-menus-box"><i class="fa fa-bars t-md"></i></div>
            </div>
        </div>
    </div>
</div>
                </div><div class="puock-text p-block t-md ad-page-content-bottom">
        <a href="https://clashv2ray.com/ad-redirect" rel="noopener noreferrer nofollow" target="_blank"><img src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/happy2024.webp" style="width:100%;max-width:800px"></a>    </div><div class="p-block p-lf-15">
    <div class="row text-center pd-links single-next-or-pre t-md ">
        <div class="col-6 p-border-r-1 p-0">
                            <a href="https://clashv2ray.com/22049.html" rel="prev"><div class="abhl puock-text"><p class="t-line-1">v2ray服务器列表全面指南</p><span>上一篇</span></div></a>                    </div>
        <div class="col-6 p-0">
                            <a href="https://clashv2ray.com/22051.html" rel="next"><div class="abhl puock-text"><p class="t-line-1">Apple TV上使用Shadowrocket的完整指南</p><span>下一篇</span></div></a>                    </div>
    </div>
</div><div class="resize-sensor" style="position: absolute; inset: 0px; overflow: hidden; z-index: -1; visibility: hidden;"><div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0px; top: 0px; transition: all; width: 837px; height: 3459px;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div></div></div></div>
                <div id="sidebar" class=" col-lg-4 d-none d-lg-block" style="position: relative; overflow: visible; box-sizing: border-box; min-height: 2113.3px;">
        
    <div class="theiaStickySidebar" style="padding-top: 0px; padding-bottom: 1px; position: fixed; transform: translateY(-363.17px); width: 401.328px; left: 959.164px; top: 0px;"><div class="sidebar-main">
            
        <div class="pk-widget p-block ">
                            <div>
                <span class="t-lg border-bottom border-primary
                puock-text pb-2"><i class="fa fa-chart-simple mr-1"></i>广告</span>
                </div>
                        <div class="mt20">

        <div class="puock-text t-md"><a href="https://clashv2ray.com/ad-redirect" target="_blank" rel="noopener noreferrer nofollow"><img src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/ad202402-2.png" style="width: 250px; height: 250px;"></a></div></div></div>
        <div class="pk-widget p-block ">
                            <div>
                <span class="t-lg border-bottom border-primary
                puock-text pb-2"><i class="fa fa-chart-simple mr-1"></i>分类目录</span>
                </div>
                        <div class="mt20">

        <div class="row t-md">            <div class="col col-lg-6 text-center p-2">
            <a href="https://clashv2ray.com/clashjc/" class="puock-bg p-2 abhl
             d-inline-block w-100" title="Clash教程">Clash教程</a>
            </div>
                    <div class="col col-lg-6 text-center p-2">
            <a href="https://clashv2ray.com/sy/" class="puock-bg p-2 abhl
             d-inline-block w-100" title="使用教程">使用教程</a>
            </div>
                    <div class="col col-lg-6 text-center p-2">
            <a href="https://clashv2ray.com/cj/" class="puock-bg p-2 abhl
             d-inline-block w-100" title="常见问题">常见问题</a>
            </div>
        </div></div></div>
        <div class="pk-widget p-block ">
                            <div>
                <span class="t-lg border-bottom border-primary
                puock-text pb-2"><i class="fa fa-chart-simple mr-1"></i>推荐文章</span>
                </div>
                        <div class="mt20">

        <div class="media-link mt20">
                    <h2 class="t-lg t-line-1" title="Shadowsocks VPN评测与使用教程">
                        <i class="fa fa-angle-right t-sm c-sub mr-1"></i>
                        <a class="a-link t-w-400 t-md" title="Shadowsocks VPN评测与使用教程" href="https://clashv2ray.com/44175.html">Shadowsocks VPN评测与使用教程</a>
                    </h2>
                </div><div class="media-link mt20">
                    <h2 class="t-lg t-line-1" title="Linux上使用shadowsocksr-dotnet4.0完整指南">
                        <i class="fa fa-angle-right t-sm c-sub mr-1"></i>
                        <a class="a-link t-w-400 t-md" title="Linux上使用shadowsocksr-dotnet4.0完整指南" href="https://clashv2ray.com/44176.html">Linux上使用shadowsocksr-dotnet4.0完整指南</a>
                    </h2>
                </div><div class="media-link mt20">
                    <h2 class="t-lg t-line-1" title="如何在TP-Link路由器上设置VPN">
                        <i class="fa fa-angle-right t-sm c-sub mr-1"></i>
                        <a class="a-link t-w-400 t-md" title="如何在TP-Link路由器上设置VPN" href="https://clashv2ray.com/44177.html">如何在TP-Link路由器上设置VPN</a>
                    </h2>
                </div><div class="media-link mt20">
                    <h2 class="t-lg t-line-1" title="Windows 平台免费 VPN 完整指南">
                        <i class="fa fa-angle-right t-sm c-sub mr-1"></i>
                        <a class="a-link t-w-400 t-md" title="Windows 平台免费 VPN 完整指南" href="https://clashv2ray.com/44178.html">Windows 平台免费 VPN 完整指南</a>
                    </h2>
                </div><div class="media-link mt20">
                    <h2 class="t-lg t-line-1" title="Shadowrocket下使用Apple ID指南">
                        <i class="fa fa-angle-right t-sm c-sub mr-1"></i>
                        <a class="a-link t-w-400 t-md" title="Shadowrocket下使用Apple ID指南" href="https://clashv2ray.com/44179.html">Shadowrocket下使用Apple ID指南</a>
                    </h2>
                </div><div class="media-link mt20">
                    <h2 class="t-lg t-line-1" title="深入探讨Shadowsocks分享">
                        <i class="fa fa-angle-right t-sm c-sub mr-1"></i>
                        <a class="a-link t-w-400 t-md" title="深入探讨Shadowsocks分享" href="https://clashv2ray.com/44180.html">深入探讨Shadowsocks分享</a>
                    </h2>
                </div></div></div>
        <div class="pk-widget p-block ">
                            <div>
                <span class="t-lg border-bottom border-primary
                puock-text pb-2"><i class="fa fa-chart-simple mr-1"></i>广告</span>
                </div>
                        <div class="mt20">

        <div class="puock-text t-md"><a href="https://clashv2ray.com/ad-redirect" target="_blank" rel="noopener noreferrer nofollow"><img src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/ad202402-2.png" style="width: 250px; height: 250px;"></a></div></div></div>        </div><div class="resize-sensor" style="position: absolute; inset: 0px; overflow: hidden; z-index: -1; visibility: hidden;"><div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0px; top: 0px; transition: all; width: 411px; height: 1196px;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div></div></div></div>
        </div>
        <!--全局下方-->
    <div class="puock-text p-block t-md ad-global-bottom">
        <a href="https://clashv2ray.com/ad-redirect" rel="noopener noreferrer nofollow" target="_blank"><img src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/happy2024.webp" style="width:100%;max-width:800px"></a>    </div>
    </div>


<!--返回顶部和底部-->
<div id="rb-float-actions">
        <div data-to="top" class="p-block"><i class="fa fa-arrow-up puock-text"></i></div>
    <div data-to="bottom" class="p-block"><i class="fa fa-arrow-down puock-text"></i></div>
</div>
<footer id="footer">
    <div class="container">
        <div class="row row-cols-md-1">
                                </div>
    </div>
    <div class="mt20 text-center t-md">
        <div class="info">
            <div class="fs12 mt10 c-sub">
                <span>
                    <i class="fa-brands fa-wordpress"></i>&nbsp;Theme by <a target="_blank" class="c-sub" title="Puock v2.8.0" href="https://github.com/Licoy/wordpress-theme-puock">Puock</a>
                </span>
            </div>        </div>
    </div>
    </footer></div>


<div id="gt-validate-box"></div>
<script data-instant="">var puock_metas ={"home":"https:\/\/clashv2ray.com","vd_comment":false,"vd_gt_id":"","vd_type":"img","use_post_menu":false,"is_single":true,"is_pjax":false,"main_lazy_img":false,"link_blank_open":false,"async_view_id":null,"mode_switch":true,"off_img_viewer":false,"off_code_highlighting":false};</script>
<script type="text/javascript" data-no-instant="" src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/libs.min.js" id="puock-libs-js"></script>
<script type="text/javascript" data-no-instant="" src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/layer.js" id="puock-layer-js"></script>
<script type="text/javascript" data-no-instant="" src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/spark-md5.min.js" id="puock-spark-md5-js"></script>
<script type="text/javascript" data-no-instant="" src="./ClashX for Mac 自定义规则完全指南 _ Clash中文教程网_files/puock.min.js" id="puock-js"></script>
<script></script>

</body></html>